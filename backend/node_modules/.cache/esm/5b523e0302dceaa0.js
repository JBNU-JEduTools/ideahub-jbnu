let contentsCtrl,checkLoggedIn,checkCRUDPermission;_02d‍.x([["default",()=>_02d‍.o]]);_02d‍.w("./contents.ctrl",[["*",null,function(v){contentsCtrl=v}]]);_02d‍.w("../../lib/checkLoggedIn",[["default",["checkLoggedIn"],function(v){checkLoggedIn=v}]]);_02d‍.w("../../lib/checkCRUDPermission",[["default",["checkCRUDPermission"],function(v){checkCRUDPermission=v}]]);/*
  contents directory는 각 작품을 관리
*/

const Router = require('koa-router');




const contents = new Router();

//contents 라우트에 여러 라우트 설정, 각각의 함수 호출하도록 함.
contents.get('/', contentsCtrl.list);
contents.post('/', checkLoggedIn, checkCRUDPermission, contentsCtrl.write);

//id는 ctx.params에서 확인 가능
const content = new Router(); // /api/posts/:id
content.get('/', contentsCtrl.read);
content.delete(
  '/',
  checkLoggedIn,
  checkCRUDPermission,
  contentsCtrl.checkOwnContent,
  contentsCtrl.remove,
);
content.patch(
  '/',
  checkLoggedIn,
  checkCRUDPermission,
  contentsCtrl.checkOwnContent,
  contentsCtrl.update,
);

contents.use('/:id', contentsCtrl.getContentById, content.routes());

_02d‍.d(contents);
