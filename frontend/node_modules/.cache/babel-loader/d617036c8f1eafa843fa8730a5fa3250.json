{"ast":null,"code":"import qs from 'qs';\nimport client from './client';\nexport const contentWritePost = ({\n  title,\n  body,\n  taggedContest,\n  taggedContestID,\n  videoURL,\n  team,\n  status,\n  github\n}) => client.post('/api/contents', {\n  title,\n  body,\n  taggedContest,\n  taggedContestID,\n  videoURL,\n  team,\n  status,\n  github\n});\nexport const readContent = id => client.get(\"/api/contents/\".concat(id));\nexport const listContents = ({\n  page,\n  taggedContestID\n}) => {\n  const queryString = qs.stringify({\n    page,\n    taggedContestID\n  });\n  return client.get(\"/api/contents?\".concat(queryString), {\n    params: {\n      taggedContestID: queryString.taggedContestID\n    }\n  });\n};\nexport const updateContent = ({\n  id,\n  title,\n  body,\n  taggedContest,\n  taggedContestID,\n  videoURL,\n  team,\n  status,\n  stars,\n  github\n}) => client.patch(\"/api/contents/\".concat(id), {\n  title,\n  body,\n  taggedContest,\n  taggedContestID,\n  videoURL,\n  team,\n  status,\n  stars,\n  github\n});\nexport const removeContent = id => client.delete(\"/api/contents/\".concat(id)); //star 버튼 클릭 시 현재 작품의 star에 1을 더하고, star를 누른 유저 목록에 현재 로그인한 유저 등록.\n\nexport const giveStar = ({\n  content,\n  user\n}) => {\n  //로그인 한 상태일 때\n  if (user) {\n    const _id = content._id,\n          stars = content.stars,\n          star_edUser = content.star_edUser; //star누른 유저 목록에 현재 로그인한 유저가 없을 경우에만.\n\n    const isInList = star_edUser.find(item => item === user._id);\n\n    if (!isInList) {\n      return client.patch(\"/api/contents/\".concat(_id, \"/star\"), {\n        stars: stars + 1,\n        star_edUser: [...star_edUser, user._id]\n      });\n    }\n  }\n}; //star를 취소\n\nexport const unStar = ({\n  content,\n  user\n}) => {\n  //로그인 한 상태일 때\n  if (user) {\n    const _id = content._id,\n          stars = content.stars,\n          star_edUser = content.star_edUser; //star누른 유저 목록에 현재 로그인한 유저가 없을 경우에만.\n\n    const indexOfItem = star_edUser.findIndex(item => item === user._id); //유저 목록에 현재 유저가 존재 할 때, unStar 작업 진행.\n\n    if (indexOfItem > -1) {\n      let star_edUserCopy = JSON.parse(JSON.stringify(star_edUser));\n      star_edUserCopy.splice(indexOfItem, 1);\n      return client.patch(\"/api/contents/\".concat(_id, \"/star\"), {\n        stars: stars - 1,\n        star_edUser: star_edUserCopy\n      });\n    }\n  }\n}; //수상 정보를 업데이트(디폴트: '-')\n\nexport const updatePrize = ({\n  content,\n  priority\n}) => {\n  const _id = content._id;\n  return client.patch(\"/api/contents/\".concat(_id), {\n    prizedPlace: priority\n  });\n};","map":{"version":3,"sources":["/Users/qwerasdf_ho/Desktop/ideaHub/frontend/src/lib/api/contentPosts.js"],"names":["qs","client","contentWritePost","title","body","taggedContest","taggedContestID","videoURL","team","status","github","post","readContent","id","get","listContents","page","queryString","stringify","params","updateContent","stars","patch","removeContent","delete","giveStar","content","user","_id","star_edUser","isInList","find","item","unStar","indexOfItem","findIndex","star_edUserCopy","JSON","parse","splice","updatePrize","priority","prizedPlace"],"mappings":"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","sourcesContent":["import qs from 'qs';\nimport client from './client';\n\nexport const contentWritePost = ({\n  title,\n  body,\n  taggedContest,\n  taggedContestID,\n  videoURL,\n  team,\n  status,\n  github,\n}) =>\n  client.post('/api/contents', {\n    title,\n    body,\n    taggedContest,\n    taggedContestID,\n    videoURL,\n    team,\n    status,\n    github,\n  });\n\nexport const readContent = (id) => client.get(`/api/contents/${id}`);\n\nexport const listContents = ({ page, taggedContestID }) => {\n  const queryString = qs.stringify({\n    page,\n    taggedContestID,\n  });\n  return client.get(`/api/contents?${queryString}`, {\n    params: {\n      taggedContestID: queryString.taggedContestID,\n    },\n  });\n};\n\nexport const updateContent = ({\n  id,\n  title,\n  body,\n  taggedContest,\n  taggedContestID,\n  videoURL,\n  team,\n  status,\n  stars,\n  github,\n}) =>\n  client.patch(`/api/contents/${id}`, {\n    title,\n    body,\n    taggedContest,\n    taggedContestID,\n    videoURL,\n    team,\n    status,\n    stars,\n    github,\n  });\n\nexport const removeContent = (id) => client.delete(`/api/contents/${id}`);\n\n//star 버튼 클릭 시 현재 작품의 star에 1을 더하고, star를 누른 유저 목록에 현재 로그인한 유저 등록.\nexport const giveStar = ({ content, user }) => {\n  //로그인 한 상태일 때\n  if (user) {\n    const { _id, stars, star_edUser } = content;\n    //star누른 유저 목록에 현재 로그인한 유저가 없을 경우에만.\n    const isInList = star_edUser.find((item) => item === user._id);\n    if (!isInList) {\n      return client.patch(`/api/contents/${_id}/star`, {\n        stars: stars + 1,\n        star_edUser: [...star_edUser, user._id],\n      });\n    }\n  }\n};\n\n//star를 취소\nexport const unStar = ({ content, user }) => {\n  //로그인 한 상태일 때\n  if (user) {\n    const { _id, stars, star_edUser } = content;\n    //star누른 유저 목록에 현재 로그인한 유저가 없을 경우에만.\n    const indexOfItem = star_edUser.findIndex((item) => item === user._id);\n    //유저 목록에 현재 유저가 존재 할 때, unStar 작업 진행.\n    if (indexOfItem > -1) {\n      let star_edUserCopy = JSON.parse(JSON.stringify(star_edUser));\n      star_edUserCopy.splice(indexOfItem, 1);\n\n      return client.patch(`/api/contents/${_id}/star`, {\n        stars: stars - 1,\n        star_edUser: star_edUserCopy,\n      });\n    }\n  }\n};\n\n//수상 정보를 업데이트(디폴트: '-')\nexport const updatePrize = ({ content, priority }) => {\n  const { _id } = content;\n  return client.patch(`/api/contents/${_id}`, {\n    prizedPlace: priority,\n  });\n};\n"]},"metadata":{},"sourceType":"module"}