{"ast":null,"code":"var _jsxFileName = \"C:\\\\repusjh_Git\\\\cmanager-public\\\\frontend\\\\src\\\\containers\\\\administer\\\\AdminContainer.js\";\nimport React, { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Admin from '../../components/administer/Admin';\nimport { listUsers } from '../../modules/users';\nimport { updateUsers } from '../../modules/users';\n\nconst AdminContainer = ({\n  location\n}) => {\n  const dispatch = useDispatch(); //users: 유저 정보 리스트, user: 현재 로그인 한 유저 정보\n\n  const _useSelector = useSelector(({\n    users,\n    loading,\n    user\n  }) => ({\n    users: users.users,\n    error: users.error,\n    loading: loading['users/LIST_USERS'],\n    user: user.user\n  })),\n        users = _useSelector.users,\n        error = _useSelector.error,\n        loading = _useSelector.loading,\n        user = _useSelector.user;\n\n  useEffect(() => {\n    dispatch(listUsers());\n  }, [dispatch, location.search]);\n  const _process$env = process.env,\n        REACT_APP_ADMIN = _process$env.REACT_APP_ADMIN,\n        REACT_APP_WRITER = _process$env.REACT_APP_WRITER,\n        REACT_APP_VISITER = _process$env.REACT_APP_VISITER; //유저 정보를 받아서, 그 유저의 role을 변경하도록 함.\n  //dispatch 되기 전에 새로고침 되어버리는 현상이 발생해서, async-await 구문 삽입으로 해결.\n\n  const toAdmin = async userItem => {\n    await dispatch(updateUsers({\n      _id: userItem._id,\n      role: REACT_APP_ADMIN\n    }));\n    window.location.reload();\n  };\n\n  const toWriter = async userItem => {\n    await dispatch(updateUsers({\n      _id: userItem._id,\n      role: REACT_APP_WRITER\n    }));\n    window.location.reload();\n  };\n\n  const toVisiter = async userItem => {\n    await dispatch(updateUsers({\n      _id: userItem._id,\n      role: REACT_APP_VISITER\n    }));\n    window.location.reload();\n  };\n\n  return React.createElement(Admin, {\n    loading: loading,\n    error: error,\n    users: users,\n    user: user,\n    toAdmin: toAdmin,\n    toWriter: toWriter,\n    toVisiter: toVisiter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  });\n};\n\nexport default withRouter(AdminContainer);","map":{"version":3,"sources":["C:\\repusjh_Git\\cmanager-public\\frontend\\src\\containers\\administer\\AdminContainer.js"],"names":["React","useEffect","withRouter","useDispatch","useSelector","Admin","listUsers","updateUsers","AdminContainer","location","dispatch","users","loading","user","error","search","process","env","REACT_APP_ADMIN","REACT_APP_WRITER","REACT_APP_VISITER","toAdmin","userItem","_id","role","window","reload","toWriter","toVisiter"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,KAAP,MAAkB,mCAAlB;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,SAASC,WAAT,QAA4B,qBAA5B;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACvC,QAAMC,QAAQ,GAAGP,WAAW,EAA5B,CADuC,CAEvC;;AAFuC,uBAGCC,WAAW,CACjD,CAAC;AAAEO,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA;AAAlB,GAAD,MAA+B;AAC7BF,IAAAA,KAAK,EAAEA,KAAK,CAACA,KADgB;AAE7BG,IAAAA,KAAK,EAAEH,KAAK,CAACG,KAFgB;AAG7BF,IAAAA,OAAO,EAAEA,OAAO,CAAC,kBAAD,CAHa;AAI7BC,IAAAA,IAAI,EAAEA,IAAI,CAACA;AAJkB,GAA/B,CADiD,CAHZ;AAAA,QAG/BF,KAH+B,gBAG/BA,KAH+B;AAAA,QAGxBG,KAHwB,gBAGxBA,KAHwB;AAAA,QAGjBF,OAHiB,gBAGjBA,OAHiB;AAAA,QAGRC,IAHQ,gBAGRA,IAHQ;;AAYvCZ,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,QAAQ,CAACJ,SAAS,EAAV,CAAR;AACD,GAFQ,EAEN,CAACI,QAAD,EAAWD,QAAQ,CAACM,MAApB,CAFM,CAAT;AAZuC,uBAgB0BC,OAAO,CAACC,GAhBlC;AAAA,QAgB/BC,eAhB+B,gBAgB/BA,eAhB+B;AAAA,QAgBdC,gBAhBc,gBAgBdA,gBAhBc;AAAA,QAgBIC,iBAhBJ,gBAgBIA,iBAhBJ,EAkBvC;AACA;;AACA,QAAMC,OAAO,GAAG,MAAOC,QAAP,IAAoB;AAClC,UAAMZ,QAAQ,CAACH,WAAW,CAAC;AAAEgB,MAAAA,GAAG,EAAED,QAAQ,CAACC,GAAhB;AAAqBC,MAAAA,IAAI,EAAEN;AAA3B,KAAD,CAAZ,CAAd;AACAO,IAAAA,MAAM,CAAChB,QAAP,CAAgBiB,MAAhB;AACD,GAHD;;AAIA,QAAMC,QAAQ,GAAG,MAAOL,QAAP,IAAoB;AACnC,UAAMZ,QAAQ,CAACH,WAAW,CAAC;AAAEgB,MAAAA,GAAG,EAAED,QAAQ,CAACC,GAAhB;AAAqBC,MAAAA,IAAI,EAAEL;AAA3B,KAAD,CAAZ,CAAd;AACAM,IAAAA,MAAM,CAAChB,QAAP,CAAgBiB,MAAhB;AACD,GAHD;;AAIA,QAAME,SAAS,GAAG,MAAON,QAAP,IAAoB;AACpC,UAAMZ,QAAQ,CAACH,WAAW,CAAC;AAAEgB,MAAAA,GAAG,EAAED,QAAQ,CAACC,GAAhB;AAAqBC,MAAAA,IAAI,EAAEJ;AAA3B,KAAD,CAAZ,CAAd;AACAK,IAAAA,MAAM,CAAChB,QAAP,CAAgBiB,MAAhB;AACD,GAHD;;AAKA,SACE,oBAAC,KAAD;AACE,IAAA,OAAO,EAAEd,OADX;AAEE,IAAA,KAAK,EAAEE,KAFT;AAGE,IAAA,KAAK,EAAEH,KAHT;AAIE,IAAA,IAAI,EAAEE,IAJR;AAKE,IAAA,OAAO,EAAEQ,OALX;AAME,IAAA,QAAQ,EAAEM,QANZ;AAOE,IAAA,SAAS,EAAEC,SAPb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAWD,CA5CD;;AA8CA,eAAe1B,UAAU,CAACM,cAAD,CAAzB","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Admin from '../../components/administer/Admin';\r\nimport { listUsers } from '../../modules/users';\r\nimport { updateUsers } from '../../modules/users';\r\n\r\nconst AdminContainer = ({ location }) => {\r\n  const dispatch = useDispatch();\r\n  //users: 유저 정보 리스트, user: 현재 로그인 한 유저 정보\r\n  const { users, error, loading, user } = useSelector(\r\n    ({ users, loading, user }) => ({\r\n      users: users.users,\r\n      error: users.error,\r\n      loading: loading['users/LIST_USERS'],\r\n      user: user.user,\r\n    }),\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(listUsers());\r\n  }, [dispatch, location.search]);\r\n\r\n  const { REACT_APP_ADMIN, REACT_APP_WRITER, REACT_APP_VISITER } = process.env;\r\n\r\n  //유저 정보를 받아서, 그 유저의 role을 변경하도록 함.\r\n  //dispatch 되기 전에 새로고침 되어버리는 현상이 발생해서, async-await 구문 삽입으로 해결.\r\n  const toAdmin = async (userItem) => {\r\n    await dispatch(updateUsers({ _id: userItem._id, role: REACT_APP_ADMIN }));\r\n    window.location.reload();\r\n  };\r\n  const toWriter = async (userItem) => {\r\n    await dispatch(updateUsers({ _id: userItem._id, role: REACT_APP_WRITER }));\r\n    window.location.reload();\r\n  };\r\n  const toVisiter = async (userItem) => {\r\n    await dispatch(updateUsers({ _id: userItem._id, role: REACT_APP_VISITER }));\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <Admin\r\n      loading={loading}\r\n      error={error}\r\n      users={users}\r\n      user={user}\r\n      toAdmin={toAdmin}\r\n      toWriter={toWriter}\r\n      toVisiter={toVisiter}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(AdminContainer);\r\n"]},"metadata":{},"sourceType":"module"}